<ion-header>

  <ion-navbar>
    <ion-title><span *ngIf="!isAddNew">{{LANGUAGES.lbCostInTotal[LANG]}}</span><span
        *ngIf="isAddNew">{{LANGUAGES.lbAddNewCost[LANG]}}</span></ion-title>
    <ion-buttons end *ngIf="ROLE ==='Service Provider' && !isAddNew">
      <button ion-button (click)="addNewCost()">
        <ion-icon name="md-add"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>

</ion-header>


<ion-content padding>

  <!-- ADD NEW -->
  <div *ngIf="isAddNew && PRICES.length>0">
    <ion-item no-lines *ngFor="let item of PRICES">
      <ion-label text-wrap>{{item[LANG]}}</ion-label>
      <ion-input [(ngModel)]="COST[item.KEY]" type="number"></ion-input>
    </ion-item>

    <button *ngIf="ROLE ==='Service Provider' && isAddNew" ion-button block
      (click)="confirmUpdateCost()">{{LANGUAGES.lbUpdate[LANG]}}</button>

  </div>
  <!-- SUMARY -->
  <div *ngIf="!isAddNew && PRICES.length>0">
    <div *ngFor="let item of PRICES" (click)="viewDetail(item)">
      <div *ngIf="item.KEY.substr(0,1)=='C'">
        Chi gia:
        <ion-item no-lines *ngIf="COST[item.KEY]>0">
          <ion-label text-wrap>{{item[LANG]}}</ion-label>
          <button ion-button clear item-end>{{COST[item.KEY]*item['HCM'] | currency:'VND'}}</button>
        </ion-item>
      </div>
    </div>
    <!-- <div *ngFor="let item of PRICES" (click)="viewDetail(item)">
      Nep:
      <ion-item no-lines *ngIf="COST[item.KEY]>0 && item.KEY.substr(0,1)=='N'">
        <ion-label text-wrap>{{item[LANG]}}</ion-label>
        <button ion-button clear item-end>{{COST[item.KEY]*item['HCM'] | currency:'VND'}}</button>
      </ion-item>
    </div>
    <div *ngFor="let item of PRICES" (click)="viewDetail(item)">
      Phu kien:
      <ion-item no-lines *ngIf="COST[item.KEY]>0 && item.KEY.substr(0,1)=='P'">
        <ion-label text-wrap>{{item[LANG]}}</ion-label>
        <button ion-button clear item-end>{{COST[item.KEY]*item['HCM'] | currency:'VND'}}</button>
      </ion-item>
    </div> -->
    <div>
      <button *ngIf="ROLE ==='Service Provider' && isMilestoneFullFilled()" ion-button block
        (click)="confirmPaymentRequest()">{{LANGUAGES.lbPaymentRequest[LANG]}}</button>
    </div>
  </div>



</ion-content>